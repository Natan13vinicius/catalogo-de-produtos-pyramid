<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Editar Produto</title>
  <link rel="stylesheet" href="{{ request.static_url('mycatalog:static/css/style.css') }}">
</head>
<body>
<header>
  <h1>Editar Produto</h1>
  <nav>
    <a href="{{ request.route_url('home') }}">Início</a>
    <a href="{{ request.route_url('list_products') }}">Lista</a>
  </nav>
</header>

<main>
  {% if error %}
    <div class="alert alert-error">{{ error }}</div>
  {% endif %}

  {% if not product %}
    <p>Produto não encontrado.</p>
  {% else %}
  <form method="post" action="{{ request.route_url('edit_product', id=product.id) }}">
  <input type="hidden" name="csrf_token" value="{{ request.session.get_csrf_token() }}">

  <label>Nome</label>
  <input name="name" required value="{{ product.name }}">

  <label>Descrição</label>
  <textarea name="description" required>{{ product.description }}</textarea>

  <label>Preço</label>
  <input name="price" type="text" required value="{{ '%.2f'|format(product.price) }}">

  <label>Imagem (nome do arquivo)</label>
  <input name="image_path" type="text" value="{{ product.image_path or '' }}">

  <button class="btn" type="submit">Salvar</button>
</form>

  {% endif %}
</main>

<footer>Projeto acadêmico • Pyramid + SQLAlchemy</footer>
</body>
</html>
